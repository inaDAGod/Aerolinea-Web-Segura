<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditoría de Seguridad</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles/log_seg.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
    <link rel="stylesheet" href="styles/styleIndex.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Open+Sans:wght@300;400;700;800&display=swap" rel="stylesheet">
</head>
<body>

<div style="background-color: #8FBCEA"></div>
<img src="assets/logoavion.png" alt="Logo" style="width:7%;height:7%;margin-left:10px;margin-top: 10px; margin-bottom: 20px;">

<header class="header" id="inicio">
    <img src="assets/indexAssets/bx-menu-alt-right.svg" alt="" class="hamburger">
    <nav class="menu-navegacion" id="menu">
        <!-- Aquí se carga el menú si usas JS dinámico -->
    </nav>    
    <div class="contenedor head">
        <h1 class="titulo">Auditoría de logs de seguridad</h1>
    </div>
</header>

<div class="container mt-4">
    <h2 style="text-align: center; font-weight: bold;">Historial de Eventos de Seguridad</h2>
    
    <!-- Filtros -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row">
                <!--
                <div class="col-md-3">
                    <label for="filtroTipo">Tipo de Evento</label>
                    
                    <select id="filtroTipo" class="form-control">
                        <option value="">Todos</option>
                        <option value="LOGIN_FALLIDO">Login fallido</option>
                        <option value="LOGIN_EXITOSO">Login exitoso</option>
                        <option value="USUARIO_BLOQUEADO">Usuario bloqueado</option>
                    </select> 
                </div>-->
                <div class="col-md-3">
                    <label for="filtroSeveridad">Severidad</label>
                    <select id="filtroSeveridad" class="form-control">
                        <option value="">Todas</option>
                        <option value="INFO">Info</option>
                        <option value="ADVERTENCIA">Advertencia</option>
                        <option value="ALTA">Alta</option>
                        <!-- <option value="CRITICA">Crítica</option> -->
                    </select>
                </div>
                <!--
                <div class="col-md-3">
                    <label for="filtroUsuario">Usuario</label>
                    <input type="text" id="filtroUsuario" class="form-control" placeholder="Filtrar por usuario">
                </div>
                <div class="col-md-3">
                    <label for="filtroIP">IP Origen</label>
                    <input type="text" id="filtroIP" class="form-control" placeholder="Filtrar por IP">
                </div>
                -->
            </div>
            <button id="btnFiltrar" class="btn btn-primary mt-3">Filtrar</button>
            <button id="btnReset" class="btn btn-secondary mt-3">Reiniciar</button>
        </div>
    </div>
    
    <!-- Tabla -->
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>Fecha/Hora</th>
                    <th>Tipo de Evento</th>
                    <th>Descripción</th>
                    <th>Usuario</th>
                    <th>Severidad</th>
                    <th>IP Origen</th>
                    <th>User Agent</th> 
                </tr>
            </thead>
            <tbody id="tablaLogsBody">
                <!-- Se llenará dinámicamente con JS -->
            </tbody>
        </table>
    </div>
    
    <!-- Paginación -->
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center" id="paginacion">
            <!-- Se generará dinámicamente -->
        </ul>
    </nav>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="scripts/log_seguridad.js"></script>

<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script src="scripts/script.js"></script>
<script src="scripts/permisos.js"></script>

</body>
</html>